{"version":3,"file":"static/js/67.0069432f.chunk.js","mappings":"yMA4EA,UAtEgB,SAAC,GAA8B,IAA5BA,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YACtBC,GAAWC,EAAAA,EAAAA,MACf,GAA4CC,EAAAA,EAAAA,UAASJ,EAAQK,aAA7D,eAAOC,EAAP,KAAuBC,EAAvB,MAOAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,yCAAG,gGACZC,GAASC,EAAAA,EAAAA,KACbC,EAAAA,EAAAA,IAAWC,EAAAA,GAAW,WACtBC,EAAAA,EAAAA,IAAM,YAAa,KAAMd,EAAQe,MACjCC,EAAAA,EAAAA,IAAQ,YAAa,SAJL,UAMUC,EAAAA,EAAAA,IAAQP,GANlB,cAOJQ,SAAQ,SAACC,GACrBC,QAAQC,IAAI,aAAcF,EAAIG,GAAI,KAAMH,EAAII,OAC7C,IATiB,2CAAH,qDAWjBd,GACD,GAAE,CAACT,EAAQe,MAEZ,IAOMS,EAAQ,yCAAG,WAAOC,GAAP,sEACfA,EAAMC,iBAEJ1B,EAAQK,cAAgBC,GACE,KAA1BA,EAAeqB,SAEfC,EAAAA,EAAAA,IAAcC,EAAAA,GAAAA,YAAyB,CACrCxB,YAAaC,IACZwB,MAAK,kBAAM7B,GAAN,IARK,2CAAH,sDAYd,OACI,iBAAK8B,UAAU,YAAf,WACE,kBAAMP,SAAUA,EAAUO,UAAU,cAApC,WACA,kBACEC,WAAS,EACTC,SAxBS,SAACR,GAChB,IACYS,EACRT,EADFU,OAAUD,MAEZ3B,EAAkB2B,EACnB,EAoBOE,KAAK,OACLC,YAAY,eACZH,MAAO5B,EACPyB,UAAU,eAEZ,kBACEK,KAAK,SACLF,MAAM,iBACNH,UAAU,UACVO,MAAO,CACLC,UAAW,UAIjB,iBAAMR,UAAU,2BAA2BS,QA3DzB,WACpBX,EAAAA,GAAAA,UACA3B,EAAS,IACV,EAwDG,uBAKL,C","sources":["routes/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { collection, getDocs, query, where, orderBy } from \"firebase/firestore\";\nimport { authService, dbService } from \"fbase\";\nimport { updateProfile } from \"firebase/auth\";\n\nconst Profile = ({ userObj, refreshUser }) => {\n  let navigate = useNavigate();\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\n\n  const onLogOutClick = () => {\n    authService.signOut();\n    navigate(\"/\");\n  };\n\n  useEffect(() => {\n    const getMyNweets = async () => {\n      const nweets = query(\n        collection(dbService, \"nweets\"),\n        where(\"creatorId\", \"==\", userObj.uid),\n        orderBy(\"createdAt\", \"desc\")\n      );\n      const querySnapshot = await getDocs(nweets);\n      querySnapshot.forEach((doc) => {\n        console.log(\"MyNweets: \", doc.id, \"=>\", doc.data());\n      });\n    };\n    getMyNweets();\n  }, [userObj.uid]);\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewDisplayName(value);\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    if (\n      userObj.displayName !== newDisplayName &&\n      newDisplayName.trim() !== \"\"\n    ) {\n      updateProfile(authService.currentUser, {\n        displayName: newDisplayName,\n      }).then(() => refreshUser());\n    }\n  };\n\n  return (\n      <div className=\"container\">\n        <form onSubmit={onSubmit} className=\"profileForm\">\n        <input\n          autoFocus\n          onChange={onChange}\n          type=\"text\"\n          placeholder=\"Display name\"\n          value={newDisplayName}\n          className=\"formInput\"\n        />\n        <input\n          type=\"submit\"\n          value=\"Update Profile\"\n          className=\"formBtn\"\n          style={{\n            marginTop: 10,\n          }}\n        />\n      </form>\n      <span className=\"formBtn cancelBtn logOut\" onClick={onLogOutClick}>\n        Log Out\n      </span>\n    </div>\n  );\n};\n\nexport default Profile;\n"],"names":["userObj","refreshUser","navigate","useNavigate","useState","displayName","newDisplayName","setNewDisplayName","useEffect","getMyNweets","nweets","query","collection","dbService","where","uid","orderBy","getDocs","forEach","doc","console","log","id","data","onSubmit","event","preventDefault","trim","updateProfile","authService","then","className","autoFocus","onChange","value","target","type","placeholder","style","marginTop","onClick"],"sourceRoot":""}